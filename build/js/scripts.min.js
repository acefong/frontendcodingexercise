/*! frontendcodingexercise 24-10-2015 */
!function(){"use strict";function a(){var a="You seem to like our website! Why not sign up for our email list? We'll send you updates whenever something changes!";document.getElementById("subscribe-text").innerHTML=a,sessionStorage.getItem("clickcount")?5===parseInt(sessionStorage.getItem("clickcount"))&&c():(console.log("TEST"),sessionStorage.setItem("clickcount","1"),sessionStorage.setItem("popupflag","0"));var f=document.getElementById("subscribe-cancel");f.addEventListener("click",function(){d()},!1);var g=document.getElementById("subscribe-submit");g.addEventListener("click",function(){var a=document.getElementById("subscribe-email");console.log(a.value),b(a.value)?(alert("Thanks for subscribing, "+a.value+"!"),d()):(a.className=a.className+" error",alert("Please enter a valid email."))});for(var h=document.getElementsByTagName("a"),i=0;i<h.length;i++)h[i].addEventListener("click",e)}function b(a){var b=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return b.test(a)}var c=function(){"0"===sessionStorage.getItem("popupflag")&&(document.getElementById("subscribe-box").style.opacity="1",document.getElementById("subscribe-box").style.transform="scale(1)",document.getElementById("overlay").style.width="100%",document.getElementById("overlay").style.height="100%",document.getElementById("overlay").style.opacity="1",sessionStorage.setItem("popupflag","1"))},d=function(){document.getElementById("subscribe-box").style.opacity="0",document.getElementById("overlay").style.width="0",document.getElementById("overlay").style.height="0",document.getElementById("overlay").style.opacity="0"};setTimeout(function(){c()},5e3);var e=function(){var a=parseInt(sessionStorage.getItem("clickcount"));a+=1,sessionStorage.setItem("clickcount",a),console.log(a)};window.onload=a}(window);